<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QueryGenie</title>
  <meta name="description" content="Generate PostgreSQL SQL and Rails Active Record queries from natural language. Paste your schema, describe what you want, get valid queries.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://a86f228e.query-genie.pages.dev/">
  <meta property="og:title" content="QueryGenie">
  <meta property="og:description" content="Generate PostgreSQL SQL and Rails Active Record queries from natural language.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="/icon.png">
  <link rel="icon" href="/icon.png" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-4xl mx-auto px-4">
    <div class="text-center mb-8">
      <img src="/icon.png" alt="QueryGenie" class="w-24 h-24 mx-auto">
      <h1 class="text-4xl font-bold text-gray-900 mb-2">QueryGenie</h1>
      <p class="text-lg text-gray-600">Generate PostgreSQL queries from natural language</p>
    </div>

    <div class="space-y-8">
      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">API Key</h2>
        <input type="password"
               id="apiKeyInput"
               placeholder="OpenAI API key (stored in this device only)"
               class="w-full p-4 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm">
        <p class="mt-2 text-sm text-gray-500">Saved in localStorage. Never sent to our servers.</p>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">1. Database Schema</h2>
        <div class="space-y-4">
          <div class="flex gap-4">
            <input type="file" id="schemaFile" accept=".sql"
                   class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
            <button type="button" id="clearSchema"
                    class="px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-md hover:bg-red-100">Clear</button>
          </div>
          <textarea id="schemaText"
                    placeholder="Paste your PostgreSQL schema here or upload a .sql file..."
                    class="w-full h-48 p-4 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"></textarea>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">2. Natural Language Prompt</h2>
        <textarea id="prompt"
                  placeholder="Describe what you want to query in natural language..."
                  class="w-full h-24 p-4 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea>
        <div class="mt-4 flex gap-4">
          <button type="button" id="generateSQL"
                  class="flex-1 bg-blue-600 text-white py-3 px-6 rounded-md font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
            Generate SQL
          </button>
          <button type="button" id="generateRails"
                  class="flex-1 bg-purple-600 text-white py-3 px-6 rounded-md font-medium hover:bg-purple-700 focus:ring-2 focus:ring-purple-500 focus:ring-offset-2">
            Generate Rails Query
          </button>
        </div>
      </div>

      <div class="bg-white rounded-lg shadow-md p-6 hidden" id="resultSection">
        <h2 class="text-xl font-semibold text-gray-800 mb-4" id="resultTitle"></h2>
        <div class="space-y-4">
          <div class="bg-gray-900 text-green-400 p-4 rounded-md font-mono text-sm overflow-x-auto">
            <pre id="output"></pre>
          </div>
          <button type="button" id="copyButton"
                  class="bg-gray-600 text-white py-2 px-4 rounded-md font-medium hover:bg-gray-700 focus:ring-2 focus:ring-gray-500 focus:ring-offset-2">
            Copy to Clipboard
          </button>
        </div>
      </div>
    </div>
  </div>
  <script src="app.js"></script>
</body>
</html>
